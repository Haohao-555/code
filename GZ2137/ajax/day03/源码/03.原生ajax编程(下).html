<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>javascript 阶段</title>
</head>
<body>
   
    <button style="padding: 10px 20px;">按钮</button>
    <script>
        // ajax : 创建动态网页的技术
        // 作用： 读取文档的内容

        // ajax 编程（异步编程）

        // 同步：
        // JS 从上往下执行的单线程脚本语言
        // 阻塞的
        // console.log(1);
        // console.log(2);
        // console.log(3);
        // 控制台：
            // 1 
            // 2
            // 3

        // 异步：
        // JS 满足条件时执行的程序（回调函数）
        // 非阻塞的，不是按照从上往下的顺序执行的
        // console.log(1);
        // // xhr.onreadystatechange = function(){}
        // document.querySelector("button").onclick = function(){
        //     console.log(2);
        // }
        // console.log(3);
        // 控制台：
            // 1
            // 3

        
        // 定义变量 记录当前的程序是否为异步的
        var option = {
            // async: true
        }
        // 希望当前的async的变量 , 默认为true
        var async = option.async === false ? option.async : true;
        // console.log(async);
        // 步骤：
            console.log(1);
            // 1. 创建XMLHttpRequest的实例
            var xhr = new XMLHttpRequest();
            // 2. 监听状态
            xhr.onreadystatechange = function(){
                if(xhr.readyState == 4 && xhr.status == 200){
                    console.log(2);
                }
            }
            // 3. 发起请求
            xhr.open("get","data/2.txt",async);
            // 4. 发送请求
            xhr.send();
            console.log(3);

            // 1. 控制台： async ： true
                // 1
                // 3
                // 2
            // 这是异步编程

            // 2. 控制台：async : false
                // 1
                // 2
                // 3
              // 这是同步编程



    </script>
</body>
</html>