<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue 阶段</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body>
    <h3>侦听器</h3>
    <div id="container">
        <input type="text" style="font-size:20px" v-model="obj.name"> <br>
        <input type="text" style="font-size:20px" v-model="obj"> <br>
        <input type="text" style="font-size:20px" v-model="arr[0]"> <br>
        <input type="text" style="font-size:20px" v-model="arr"> <br>
        <input type="text" style="font-size:20px" v-model="message"> <br>
        <p>{{ message }}</p>
        <p>{{str}}</p>
    </div>
    <script>
        // 创建Vue实例
        // 注意： 
        // 侦听对象的属性变化，属性变化了，但不触发侦听器（不执行指定的函数）
        // 侦听数组的数据变化，索引值对应的数据变化，触发侦听器
        // 数据发生变化，才会执行指定的函数（属性名称）
        // 事件、定时器、回调函数
        // 一些异步操作，可以使用属性侦听。
        new Vue({
            el: "#container",
            data: {
                // 属性名称
                obj: {
                    name:"张三"
                },
                arr: [
                    "red",
                    "green"
                ],
                message: "hello world",
                str: ""
            },
            watch: {
                // 函数名称
                obj() {
                    console.log("test 111");
                },
                arr(){
                    console.log("test 222");
                },
                message(){
                    console.log("test 333");
                    setTimeout(()=>{
                        this.str = "11111"
                    },1000)
                }
            }
        })

    </script>
</body>
</html>